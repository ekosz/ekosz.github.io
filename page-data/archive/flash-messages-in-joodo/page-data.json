{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/archive/flash-messages-in-joodo/",
    "result": {"data":{"site":{"siteMetadata":{"title":"Blog name here"}},"markdownRemark":{"id":"957f1ec1-178a-5bbe-9ae8-3d81964045d8","excerpt":"Joodo has built in support for Rails-like flash messages. These are great for persisting one-time messages between requests. First off we need to set theâ€¦","html":"<p><a href=\"http://www.joodoweb.com/\">Joodo</a> has built in support for Rails-like flash messages.<br>\nThese are great for persisting one-time messages between requests.</p>\n<p>First off we need to set the message in the controller.</p>\n<div class=\"gatsby-highlight\" data-language=\"clojure\"><pre class=\"language-clojure\"><code class=\"language-clojure\"><span class=\"token punctuation\">(</span><span class=\"token keyword\">defn-</span> create-user <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> <span class=\"token punctuation\">[</span>params <span class=\"token punctuation\">(</span><span class=\"token symbol\">:params</span> *request*<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">(</span><span class=\"token function\">save</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">hash-map</span> <span class=\"token symbol\">:kind</span> <span class=\"token string\">\"user\"</span> <span class=\"token symbol\">:name</span> <span class=\"token punctuation\">(</span><span class=\"token symbol\">:name</span> params<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">(</span><span class=\"token keyword\">assoc</span>\n      <span class=\"token punctuation\">(</span><span class=\"token function\">redirect-after-post</span> <span class=\"token string\">\"/\"</span><span class=\"token punctuation\">)</span>\n      <span class=\"token symbol\">:flash</span> <span class=\"token punctuation\">{</span><span class=\"token symbol\">:messages</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"User Created!\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Now we can grab this flash message from our view.</p>\n<div class=\"gatsby-highlight\" data-language=\"clojure\"><pre class=\"language-clojure\"><code class=\"language-clojure\"><span class=\"token punctuation\">(</span><span class=\"token keyword\">if-let</span> <span class=\"token punctuation\">[</span>flash <span class=\"token punctuation\">(</span><span class=\"token symbol\">:flash</span> *request*<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">[</span><span class=\"token symbol\">:div</span> <span class=\"token punctuation\">{</span><span class=\"token symbol\">:class</span> <span class=\"token string\">\"flash\"</span><span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">(</span><span class=\"token keyword\">if-let</span> <span class=\"token punctuation\">[</span>messages <span class=\"token punctuation\">(</span><span class=\"token symbol\">:messages</span> flash<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">[</span><span class=\"token symbol\">:div</span> <span class=\"token punctuation\">{</span><span class=\"token symbol\">:class</span> <span class=\"token string\">\"messages\"</span><span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">(</span><span class=\"token keyword\">map</span> <span class=\"token operator\">#</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">identity</span> <span class=\"token punctuation\">[</span><span class=\"token symbol\">:div</span> <span class=\"token punctuation\">{</span><span class=\"token symbol\">:class</span> <span class=\"token string\">\"message\"</span><span class=\"token punctuation\">}</span> %<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> messages<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>","frontmatter":{"title":"Flash messages in Joodo","date":"September 11, 2012","description":null}},"previous":{"fields":{"slug":"/archive/writting-joodo-middleware/"},"frontmatter":{"title":"Writing Joodo middleware"}},"next":{"fields":{"slug":"/archive/faking-OO-in-clojure/"},"frontmatter":{"title":"Faking OO in Clojure"}}},"pageContext":{"id":"957f1ec1-178a-5bbe-9ae8-3d81964045d8","previousPostId":"3d03c490-bf34-5ca1-b8f3-68ad13c5c3f0","nextPostId":"48342327-49eb-5131-bf36-8fa564890316"}},
    "staticQueryHashes": ["2841359383","3257411868"]}