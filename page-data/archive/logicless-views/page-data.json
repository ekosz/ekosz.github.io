{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/archive/logicless-views/",
    "result": {"data":{"site":{"siteMetadata":{"title":"Blog name here"}},"markdownRemark":{"id":"d1698cd6-0742-57fa-a3c1-769c83243c3b","excerpt":"Views are meant to be dumb displays of simple data. Because of that, views\nshould have no unit testing on top of them. If you feel that you should be unitâ€¦","html":"<p>Views are meant to be dumb displays of simple data. Because of that, views\nshould have no unit testing on top of them. If you feel that you should be unit\ntesting your views, your application has not extracted enough functionality\naway from the view layer.</p>\n<p>For example, my Tic Tac Toe board display like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">1 | 2 | 3\n4 | x | 6\no | 8 | 9</code></pre></div>\n<p>When I first wrote the presentation logic it looked like:</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token variable\">@board</span><span class=\"token punctuation\">.</span>grid<span class=\"token punctuation\">.</span>each_with_index <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>row<span class=\"token punctuation\">,</span> i<span class=\"token operator\">|</span>\n   row<span class=\"token punctuation\">.</span>each_with_index <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>cell<span class=\"token punctuation\">,</span> j<span class=\"token operator\">|</span>\n     print cell <span class=\"token operator\">||</span> <span class=\"token punctuation\">(</span>i<span class=\"token operator\">*</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token punctuation\">(</span>j<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n   <span class=\"token keyword\">end</span>\n   puts\n<span class=\"token keyword\">end</span></code></pre></div>\n<p>Very simple. Display a letter, if there is one, or display the number of the\ncell. The only problem was that my view layer was no longer dumb. It know how\nto count cells. Even the most simple logic should be extracted out of the view\nlayer. So I created a presenter instead.</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">BoardPresenter</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">initialize</span></span><span class=\"token punctuation\">(</span>board<span class=\"token punctuation\">)</span>\n    <span class=\"token variable\">@board</span> <span class=\"token operator\">=</span> board\n  <span class=\"token keyword\">end</span>\n\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">grid</span></span>\n    <span class=\"token variable\">@board</span><span class=\"token punctuation\">.</span>grid<span class=\"token punctuation\">.</span>each_with_index<span class=\"token punctuation\">.</span>map <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>row<span class=\"token punctuation\">,</span> i<span class=\"token operator\">|</span>\n       row<span class=\"token punctuation\">.</span>each_with_index<span class=\"token punctuation\">.</span>map <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>cell<span class=\"token punctuation\">,</span> j<span class=\"token operator\">|</span>\n         cell <span class=\"token operator\">||</span> <span class=\"token punctuation\">(</span>i<span class=\"token operator\">*</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token punctuation\">(</span>j<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n       <span class=\"token keyword\">end</span>\n    <span class=\"token keyword\">end</span>\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<p>Now my view layer is that more concise:</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token class-name\">BoardPresenter</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">new</span><span class=\"token punctuation\">(</span><span class=\"token variable\">@board</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>grid<span class=\"token punctuation\">.</span><span class=\"token keyword\">each</span> <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>row<span class=\"token operator\">|</span>\n  row<span class=\"token punctuation\">.</span><span class=\"token keyword\">each</span> <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>cell<span class=\"token operator\">|</span>\n    print cell\n  <span class=\"token keyword\">end</span>\n  puts\n<span class=\"token keyword\">end</span></code></pre></div>","frontmatter":{"title":"Logic-less views","date":"August 13, 2012","description":null}},"previous":{"fields":{"slug":"/archive/impressing-your-friends-with-ruby/"},"frontmatter":{"title":"Impressing your friends with Ruby"}},"next":{"fields":{"slug":"/archive/intro-to-joodo/"},"frontmatter":{"title":"Introduction to Joodo"}}},"pageContext":{"id":"d1698cd6-0742-57fa-a3c1-769c83243c3b","previousPostId":"8b1cb7f9-8376-5e53-acf9-38b0fa33c6a4","nextPostId":"b13b8957-0492-56e7-8d76-7e4e3f46d808"}},
    "staticQueryHashes": ["2841359383","3257411868"]}